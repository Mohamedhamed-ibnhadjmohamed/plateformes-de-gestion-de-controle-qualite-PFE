<div class="container">

    <form [formGroup]="produitForm" (ngSubmit)="ajouter()">

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label>Code</label>
                    <input type="text" class="form-control" formControlName="code">
                    <div *ngIf="code?.invalid && (code?.dirty || code?.touched)" class="text-danger">
                        Code requis.
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Désignation</label>
                    <input type="text" class="form-control" formControlName="designation">
                    <div *ngIf="designation?.invalid && (designation?.dirty || designation?.touched)"
                        class="text-danger">
                        La désignation est requise et doit comporter au moins 3 caractères.
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label>Libellé</label>
                    <input type="text" class="form-control" formControlName="libelle_produit">
                    <div *ngIf="libelle_produit?.invalid && (libelle_produit?.dirty || libelle_produit?.touched)"
                        class="text-danger">
                        Libellé requis.
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Niveau</label>
                    <input type="number" class="form-control" formControlName="niveau">
                    <div *ngIf="niveau?.invalid && (niveau?.dirty || niveau?.touched)" class="text-danger">
                        Le niveau doit être entre 1 et 5.
                    </div>
                </div>
            </div>
        </div>


        <div class="form-group">
            <label>Quantité</label>
            <input type="number" class="form-control" formControlName="quantite">
            <div *ngIf="quantite?.invalid && (quantite?.dirty || quantite?.touched)" class="text-danger">
                Quantité minimale de 1 requise.
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="id_aql">Identifiant AQL :</label>
                    <select id="id_aql" class="form-select" formControlName="id_aql">
                        <option value="" disabled selected>Sélectionnez une option</option>
                        <option *ngFor="let aql of aqls" [value]="aql.id_aql">{{ aql.nom }}</option>
                    </select>
                    <div *ngIf="id_aql?.invalid && (id_aql?.dirty || id_aql?.touched)" class="text-danger">
                        Sélectionnez un AQL.
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="id_order">Identifiant Order :</label>
                    <select id="id_order" class="form-select" formControlName="id_order">
                        <option value="" disabled selected>Sélectionnez une option</option>
                        <option *ngFor="let order of orders" [value]="order.id_order">{{ order.libelle_order
                            }}
                        </option>
                    </select>
                    <div *ngIf="id_order?.invalid && (id_order?.dirty || id_order?.touched)" class="text-danger">
                        Sélectionnez un Order.
                    </div>
                </div>
            </div>
        </div>


        <div class="d-flex justify-content-end">
            <button type="reset" class="btn btn-danger m-2 p-3" (click)="resetForm()">
                Annuler
            </button>
            <button type="submit" class="btn btn-primary m-2 p-3" data-bs-dismiss="modal"
                [disabled]="produitForm.invalid">
                Ajouter
            </button>
        </div>

    </form>

</div>